<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Banco de sangue</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"/>
</h:head>

<h:body>
<div class="container mt-4" >
	<h:form id="form">
	<p:panel style="margin: 0 auto;">
		<h:panelGrid columns="1" id="panelGridPrinciapl">
			<h:panelGroup>
				<h:panelGrid>
					<p:outputLabel
						value="Selecione um estado para ver a quantidade de candidatos:" />
					<p:selectOneMenu id="comboEstados" value="#{doadorCrudView.estadoSelecionado}">
						<f:selectItem itemLabel="Selecione um estado..." itemValue="VAZIO" />
						<f:selectItem itemLabel="Acre" itemValue="AC" />
						<f:selectItem itemLabel="Alagoas" itemValue="AL" />
						<f:selectItem itemLabel="Amapá" itemValue="AP" />
						<f:selectItem itemLabel="Amazonas" itemValue="AM" />
						<f:selectItem itemLabel="Bahia" itemValue="BA" />
						<f:selectItem itemLabel="Ceará" itemValue="CE" />
						<f:selectItem itemLabel="Distrito Federal" itemValue="DF" />
						<f:selectItem itemLabel="Espírito Santo" itemValue="ES" />
						<f:selectItem itemLabel="Goiás" itemValue="GO" />
						<f:selectItem itemLabel="Maranhão" itemValue="MA" />
						<f:selectItem itemLabel="Mato Grosso" itemValue="MT" />
						<f:selectItem itemLabel="Mato Grosso do Sul" itemValue="MS" />
						<f:selectItem itemLabel="Minas Gerais" itemValue="MG" />
						<f:selectItem itemLabel="Pará" itemValue="PA" />
						<f:selectItem itemLabel="Paraíba" itemValue="PB" />
						<f:selectItem itemLabel="Paraná" itemValue="PR" />
						<f:selectItem itemLabel="Pernambuco" itemValue="PE" />
						<f:selectItem itemLabel="Piauí" itemValue="PI" />
						<f:selectItem itemLabel="Rio de Janeiro" itemValue="RJ" />
						<f:selectItem itemLabel="Rio Grande do Norte" itemValue="RN" />
						<f:selectItem itemLabel="Rio Grande do Sul" itemValue="RS" />
						<f:selectItem itemLabel="Rondônia" itemValue="RO" />
						<f:selectItem itemLabel="Roraima" itemValue="RR" />
						<f:selectItem itemLabel="Santa Catarina" itemValue="SC" />
						<f:selectItem itemLabel="São Paulo" itemValue="SP" />
						<f:selectItem itemLabel="Sergipe" itemValue="SE" />
						<f:selectItem itemLabel="Tocantins" itemValue="TO" />
						<p:ajax listener="#{doadorCrudView.getCandidatosPorEstado}" update="totalCandidatos"/>
					</p:selectOneMenu>
				</h:panelGrid>
				<h:panelGrid id="totalCandidatos" columns="2">
				<h:outputLabel value="Total de candidatos:" />
			<h:outputText value="#{doadorCrudView.totalCandidatosPorEstado}" />
				</h:panelGrid>
				<hr></hr>
				<h:panelGrid>
				<h:outputLabel value="IMC médio em cada faixa de idade:" />
				<p:dataTable id="tabela" var="imcMedioTabela" value="#{doadorCrudView.imcMedioPorIdadeList}">
				<p:column headerText="Faixa de idade">
				<h:outputText value="#{imcMedioTabela.faixeDeIdade}" />
				</p:column>
				<p:column headerText="IMC médio" style="width:120px;">
				<h:outputText value="#{imcMedioTabela.mediaImc}" styleClass="text-align:center;" />
				</p:column>
				
				</p:dataTable>
				</h:panelGrid>
				<hr></hr>
				<h:panelGrid>
					<p:outputLabel
						value="Selecione um sexo para ver o percentual de obesos:" />
					<p:selectOneMenu id="comboQtdePorSexoSexo" value="#{doadorCrudView.sexoSelecionado}">
						<f:selectItem itemLabel="Selecione um sexo..." itemValue="VAZIO" />
						<f:selectItem itemLabel="Masculino" itemValue="Masculino" />
						<f:selectItem itemLabel="Feminino" itemValue="Feminino" />
						<p:ajax listener="#{doadorCrudView.getQtdeObesosPorSexo}" update="totalObesosPorSexo"/>
					</p:selectOneMenu>
				</h:panelGrid>
					<h:panelGrid id="totalObesosPorSexo" columns="2">
				<h:outputLabel value="Total de candidatos obesos pelo sexo é:" />
			<h:outputText value="#{doadorCrudView.porcentagemDeObesos.porcentagemObesos}" />
				</h:panelGrid>
				<hr></hr>
					<h:panelGrid>
					<p:outputLabel
						value="Selecione um tipo de sanguineo para saber a média de idade:" />
					<p:selectOneMenu id="comboTipoSanguineo" value="#{doadorCrudView.tipoSanguineo}">
						<f:selectItem itemLabel="Selecione um tipo sanguineo..." itemValue="VAZIO" />
						<f:selectItem itemLabel="A+" itemValue="A+" />
						<f:selectItem itemLabel="A-" itemValue="A-" />
						<f:selectItem itemLabel="B+" itemValue="B+" />
						<f:selectItem itemLabel="B-" itemValue="B-" />
						<f:selectItem itemLabel="AB+" itemValue="AB+" />
						<f:selectItem itemLabel="AB-" itemValue="AB-" />
						<f:selectItem itemLabel="O+" itemValue="O+" />
						<f:selectItem itemLabel="O-" itemValue="O-" />
						<p:ajax listener="#{doadorCrudView.getTipoSanguineoPossiveisDoadores}" update="mediaPorGrupoSanguineo"/>
					</p:selectOneMenu>
				</h:panelGrid>	
				<h:panelGrid id="mediaPorGrupoSanguineo" columns="2">
				<h:outputLabel value="A média de idade é:" />
			<h:outputText value="#{doadorCrudView.resultadoMediaTipoSanguineo}" />
				</h:panelGrid>
				<hr></hr>
				<h:panelGrid>
					<p:outputLabel
						value="Selecione um tipo de sanguineo para saber a quantidade possíveis de doadores:" />
					<p:selectOneMenu id="compoPossiveisDoadoresPorTipoSanguineo" value="#{doadorCrudView.tipoSanguineoPossiveisDoadoresParaCadTipo}">
						<f:selectItem itemLabel="Selecione um tipo sanguineo..." itemValue="VAZIO" />
						<f:selectItem itemLabel="A+" itemValue="A+" />
						<f:selectItem itemLabel="A-" itemValue="A-" />
						<f:selectItem itemLabel="B+" itemValue="B+" />
						<f:selectItem itemLabel="B-" itemValue="B-" />
						<f:selectItem itemLabel="AB+" itemValue="AB+" />
						<f:selectItem itemLabel="AB-" itemValue="AB-" />
						<f:selectItem itemLabel="O+" itemValue="O+" />
						<f:selectItem itemLabel="O-" itemValue="O-" />
						<p:ajax listener="#{doadorCrudView.getQtdePossiveisDoadores}" update="possiveisDoadoresPortTipoSanguineo"/>
					</p:selectOneMenu>
				</h:panelGrid>	
				<h:panelGrid id="possiveisDoadoresPortTipoSanguineo" columns="2">
				<h:outputLabel value="A quantidade de possíveis doadores para o tipo sanguíneo é:" />
			<h:outputText value="#{doadorCrudView.resultadoPossiveisDoadores}" />
				</h:panelGrid>
			</h:panelGroup>
		</h:panelGrid>
	</p:panel>

	</h:form>
</div>

</h:body>
</html>